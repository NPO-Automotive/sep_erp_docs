---
sidebar_position: 32
---

## Путь
Склад (/sclad) -> Ревизия на складе (/revision)

---
## Описание
Страница "Ревизия на складе" в программе предназначена для выполнения ключевых задач, связанных с управлением и контролем данных. Она включает в себя функции проверки, обновления и документирования данных о товарах на складе.

### Особенности
- **Проверка и сопоставление данных**
    - Используется для периодических проверок фактического количества товаров на складе с данными в системе, что помогает выявить расхождения.
- **Обновление и корректировка данных**
    - Позволяет обновлять информацию о товарах, включая количество и состояние.
- **Документирование изменений**
    - Фиксирует все изменения, внесенные в ходе ревизии, обеспечивая прозрачность и возможность анализа.
- **Учет движения товаров**
    - Система фиксирует время продажи и внесения товара в список ревизии, что помогает избежать ошибок.

### Функционал
Страница "Ревизия на складе" реализована в виде двух таблиц:
- **Первая таблица**
    - Позволяет переключаться между категориями ("Изделия", "Сборки", "Детали", "Материалы") и отображает текущее количество сущностей с возможностью ввода фактического количества.
- **Вторая таблица**
    - "История изменений" связана с категориями первой таблицы и отображает историю выбранной категории по умолчанию. При выборе сущности в первой таблице отображает историю выбранной сущности.

## Требования
- **Проверка данных**
   - Пользователь должен иметь возможность инициировать проверку фактического количества товаров на складе.
   - Система должна отображать расхождения между фактическими данными и данными в системе.
- **Обновление данных**
   - Пользователь должен иметь возможность обновлять информацию о товарах, включая количество и состояние.
   - Система должна сохранять все изменения и предоставлять возможность их отмены.
- **Документирование изменений**
   - Пользователь должен иметь возможность фиксировать изменения, внесенные в ходе ревизии.
   - Система должна генерировать отчеты по каждой проведенной ревизии.
- **Учет движения товаров**
   - Система должна фиксировать время продажи и внесения товара в список ревизии.
   - Пользователь должен иметь возможность просматривать историю движения товаров.
- **Работа с таблицами**
   - Первая таблица должна позволять переключаться между категориями ("Изделия", "Сборки", "Детали", "Материалы") и отображать текущее количество сущностей.
   - Вторая таблица должна отображать историю изменений для выбранной категории и сущности.
- **Безопасность**
    - Все данные должны быть защищены от несанкционированного доступа.

---
## Макет
![Пример изображени страницы Ревизия на складе](\img\Audit.png)

| Элементы окна | Назначение |
|---|---|
|Switch| Переключатель категорий |
|Table 1| Таблица сущностей выбранной категории |
|Table 2| Таблица "История изменений" |

---
## Описание
Страница "Ревизия на складе" предназначена для управления инвентаризацией товаров, предоставляя пользователям возможность отслеживать текущее количество сущностей в различных категориях.

### Структура
Над таблицей отображается текущее количество всех сущностей выбранной категории. Заголовок таблицы меняется в зависимости от выбранной категории:
- **Изделие** (по умолчанию)
- **Сборочная единица (Тип СБ)**
- **Деталь (Тип Д)**
- **Материалы**

### Колонки таблиц
- **Изделие**
   - **Заводской номер**: уникальный идентификатор сущности.
   - **Обозначение**: код или марка изделия.
   - **Наименование**: полное название изделия.
   - **Количество** (Колонка разделена на две части: Текущее и Фактическое.)
     - **Текущее**: отображает актуальное количество на складе.
     - **Фактическое**: поле ввода для изменения или подтверждения наличия при ревизии (по умолчанию соответствует текущему количеству).

- **Сборочная единица (Тип СБ)**:
   - **Обозначение**: код сборочной единицы.
   - **Наименование**: полное название сборочной единицы.
   - **Количество** (Колонка разделена на две части: Текущее и Фактическое.)
     - **Текущее**: актуальное количество.
     - **Фактическое**: поле ввода для изменения или подтверждения наличия при ревизии (по умолчанию соответствует текущему количеству).

- **Деталь (Тип Д)**:
   - **Обозначение**: код детали.
   - **Наименование**: полное название детали.
   - **Количество** (Колонка разделена на две части: Текущее и Фактическое.)
     - **Текущее**: актуальное количество.
     - **Фактическое**: поле ввода для изменения или подтверждения наличия при ревизии (по умолчанию соответствует текущему количеству).

- **Материалы**:
   - **Тип**: категория материала.
   - **Наименование**: полное название материала.
   - **Количество** (Колонка разделена на две части: Текущее и Фактическое.)
     - **Текущее**: актуальное количество.
     - **Фактическое**: поле ввода для изменения или подтверждения наличия при ревизии (по умолчанию соответствует текущему количеству).

### Особенности
- **Категории**
    - Над таблицей расположен переключатель (switch) для смены категорий: "Изделия", "Сборки", "Детали", "Материалы".
- **Уникальность**
    - Каждая категория имеет уникальные колонки, соответствующие типу сущностей, что упрощает навигацию и ввод данных.
- **Поиск**
    - Под колонками расположено поле для поиска на всю ширину таблицы, позволяющее искать по наименованию. Используется placeholder для подсказки допустимых значений поиска.

### Функционал
- Пользователь может легко переключаться между категориями и видеть соответствующие данные.
- Ввод фактического количества позволяет пользователю обновлять информацию о наличии товаров на складе, что способствует точности учета.

---
## Описание
Таблица "История изменений" предназначена для отображения всех изменений, внесенных в процессе ревизии, позволяя пользователям отслеживать динамику изменений по различным категориям или сущностям.

### Структур
- **№**
 - порядковый номер записи в таблице.
- **Обозначение**
 - обозначение сущности.
- **Название**
 - полное название сущности.
- **Ответственный**
 - имя пользователя, проводившего изменения.
- **Было**
 - количество сущности до изменения.
- **Стало**
 - количество сущности после изменения.
- **Дата и время изменения**
 - дата и время, когда было внесено изменение.
- **Тип сущности**
 - категория или тип сущности.

### Особенности
- **Поиск**
 - Под колонками расположено поле для поиска на всю ширину таблицы, позволяющее искать по наименованию. Используется placeholder для подсказки допустимых значений поиска.
- **Динамичность**
 - Таблица автоматически обновляется в зависимости от выбранной категории или сущности из первой таблицы. По умолчанию отображает изменения для категории "Изделие".

### Функционал
- Фиксация изменений при проведении ревизии с возможностью поиска по наименованию.
- Автоматическое отображение изменений, связанных с выбранной категорией или сущностью, что упрощает анализ данных и повышает удобство работы с таблицей.

---
<span style={{color: "red"}}>TODO: Оставлю описание того, что обычно происходит при ревизии ниже.</span>

При проведении ревизии печатаются несколько ключевых документов, которые фиксируют результаты проверки и обеспечивают прозрачность процесса. Вот основные документы, которые обычно печатаются:
Основные документы, печатаемые при ревизии

- **Инвентаризационная опись (форма ИНВ-3):** Этот документ отражает результаты инвентаризации товаров и материальных ценностей. Он включает в себя данные о фактическом наличии товаров и их количестве, а также выявленные расхождения с учетными данными.

- **Акт о результатах инвентаризации:** Этот акт фиксирует итоги проведенной инвентаризации, включая выявленные излишки или недостачи. Он подписывается членами инвентаризационной комиссии и утверждается руководителем организации.
- **Объяснительные записки сотрудников:** В случае выявления расхождений сотрудники, ответственные за учет и хранение товаров, могут предоставлять объяснительные записки, которые также фиксируются и прилагаются к итоговым документам ревизии.
- **Акт списания товаров (форма ТОРГ-16):** В случае необходимости списания товаров, которые были выявлены как недостача или поврежденные, заполняется и печатается акт списания. Этот документ подтверждает факт списания и обосновывает его причины.

Процесс печати документов
- **Выбор ревизии:** Для печати документов необходимо выбрать нужную ревизию из списка в программе.
- **Просмотр результатов:** После выбора ревизии отображаются общие результаты, включая недостачи и излишки.
- **Формирование документов:** Для печати итогов ревизии и инвентаризационной описи используются соответствующие кнопки в программе, которые формируют необходимые печатные формы.

Эти документы являются важной частью процесса ревизии, обеспечивая документальное подтверждение всех этапов и результатов проверки.