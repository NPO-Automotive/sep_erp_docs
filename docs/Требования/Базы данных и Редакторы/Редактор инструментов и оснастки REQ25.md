---
sidebar_position: 25
---

## Путь
База инструмента и оснастки (/basetools) -> Редактировать инструменты и оснастки (/instrument/edit/false/)

## Описание страницы "Редактор инструмента и оснастки"
Страница "Редактор инструмента и оснастки" предоставляет пользователю возможность управлять всеми аспектами информации о создаваемой или редактируемой сущности. Пользователь может:

- Ввести или редактировать наименование.
- Выделить наименование спецсимволом (Checkbox).
- Получить информацию о типе профиля заготовки и подтипе материала заготовки.
- Работать с характеристиками, параметрами и поставщиками.
- Просматривать информацию, редактировать или записывать новые значения при создании.
- Просматривать изображение сущности с возможностью прикрепить дополнительные файлы, распечатать выбранные, удалить или добавить из базы.
- Вводить и редактировать примечания.

### Особенности
- **Интуитивный интерфейс**
    - Удобный и понятный интерфейс для управления всеми аспектами информации о сущности.
- **Гибкость в управлении данными**
    - Возможность редактирования и обновления информации в реальном времени.
- **Управление файлами**
    - Простое управление прикрепленными документами и изображениями.
    - Возможность добавления файлов через drag and drop, а также предпросмотр и печать.
- **Выделение спецсимволами**
    - Возможность выделить имя сущности для акцента.
- **История изменений**
    - Просмотр и отслеживание всех изменений.

### Функционал
- **Редактирование информации**
    - Ввод и редактирование наименования.
    - Выделение наименования спецсимволом (Checkbox).
- **Тип и подтип заготовки**
    - Получение информации о типе профиля заготовки и подтипе материала заготовки.
    - Редактирование или выбор из списка при создании.
- **Характеристики и параметры**
    - Просмотр, редактирование и добавление характеристик и параметров.
- **Поставщики**
    - Просмотр, редактирование и добавление информации о поставщиках.
- **Управление файлами**
    - Отображение изображения сущности.
    - Прикрепление дополнительных файлов.
    - Печать выбранных файлов.
    - Удаление файлов.
    - Добавление файлов из базы.
- **Примечания**
    - Поле для ввода и редактирования примечаний.

## Требования
- **Редактирование информации**
    - Пользователь должен иметь возможность вводить и редактировать наименование сущности.
- **Тип и подтип заготовки**
    - Пользователь должен иметь возможность получать информацию о типе профиля заготовки и подтипе материала заготовки.
    - Должна быть возможность редактировать или выбирать тип и подтип из списка при создании.
- **Характеристики и параметры**
    - Пользователь должен иметь возможность просматривать, редактировать и добавлять характеристики и параметры.
- **Поставщики**
    - Пользователь должен иметь возможность просматривать, редактировать и добавлять информацию о поставщиках.
- **Управление файлами**
    - Должна быть возможность отображать изображение сущности.
    - Пользователь должен иметь возможность прикреплять дополнительные файлы.
    - Должна быть возможность печатать выбранные файлы.
    - Должна быть возможность удалять файлы.
    - Должна быть возможность добавлять файлы из базы.
- **Примечания**
    - Должно быть поле для ввода и редактирования примечаний.
- **История изменений**
    - Должна быть возможность просматривать и отслеживать все изменения.
- **Выделение спецсимволами**
    - Должна быть возможность выделять имя сущности для акцента.
- **Управление файлами**
    - Должна быть возможность добавления файлов через drag and drop.
    - Должна быть возможность предпросмотра и печати файлов.
- **Поиск по наименованиям**
    - Под названием столбцов должен быть поиск по наименованиям с placeholder для удобства пользователя.
    - Должна быть возможность просматривать историю запросов.
- **Контроль доступа**
    - Доступ к редактированию информации должен быть ограничен авторизованными пользователями.
    - Должна быть реализована система ролей и прав доступа.

---
## Макет 
![Пример изображения Редактор инструментов и оснастки](\img\ToolEditor.png)

| Элементы окна | Назначение |
|---|---|
|Table 1| Таблица "Тип (Тип профиля заготовки)" |
|Table 2| Таблица "Подтип (Материал заготовки)" |
|Table 3| Таблица "Характеристики" |
|Table 4| Таблица "Параметры" |
|Table 5| Таблица "Поставщики" |
|Table 6| Таблица "Файлы" |
|Button 1| <span style={{color: "red"}}>TODO: требуется уточнение</span> |
|Button 2| Открывает модальное окно "История изменений" |
|Button 3| <span style={{color: "red"}}>TODO: требуется уточнение</span> |
|Button 4| Сбрасывает фильтр "Изменить тип и подтип" |
|Button 5| Сохраняет все изменения |
|Button 6| Закрывает окно и возвращает в базу |
|Button 7| Открывает мдальное окно "Добавить поставщика" |
|Button 8| Добавляет строку в таблицу с характеристиками |
|Button 9| Выводит на предпросмотр печати файлы из таблицы 6 |
|Button 10| Открывает модальное окно "База файлов" |
|Input 1| Поле ввода Наименования |
|textarea| Блок примечания |
|Checkbox| Отметка проставления спецсимвола |
|Drag and Drop| Поле для загрузки файлов |

---
## Верхний блок
## Описание основных элементов интерфейса
- **Наименование:** (Input 1)
    - Предназначено для ввода идентификатора сущности.
    - Используется Placeholder для подсказки пользователю, что именно нужно ввести.
    - Допустимое количество символов от 3 до 255, что обеспечивает уникальность и гибкость идентификатора.
- **Принадлежность** (Button 3)
    - При нажатии открывает модальное окно для выбора или указания принадлежности сущности.
- **История изменений** (Button 4)
    - Открывает модальное окно "История изменений", где пользователь может просмотреть все внесенные изменения в сущность.
- **Материал:**
    - Отображает тип инструмента и оснастки, к которому относится сущность.
- **Выделить в поиске** (Checkbox)
    - При активации создаваемая сущность будет выделена специальным символом в базе данных, что облегчит её поиск.
    - По умолчанию не активирован.

## Описание поле Примечание (textarea)
Поле "Примечание" предназначено для отображения и редактирования примечаний, оставленных к выбранному инструменту и оснастки.

### Особенности
- **Текстовое поле**
  - Поле позволяет вводить и редактировать текстовые примечания.
- **Удобство использования**
  - Поле расположено в удобном месте интерфейса для быстрого доступа и редактирования.

### Функционал
- **Отображение примечания**
  - Поле показывает текущее примечание, связанное с выбранным инструменту и оснастки.
- **Редактирование примечания**
  - Пользователь может вносить изменения в текст примечания.
- **Допустимые значения**
  - Допустимое количество символов: от 0 до 255.

---
## Нижние блоки
## Блок "Выбор типа и подтипа"
- **Элемент** 
    - Комплексный блок интерфейса.
- **Назначение**
    - Предоставляет пользователю информацию о типе и подтипе сущности, с возможностью изменения или выбора новых значений.

### Особенности
- **Структура блока**
   - **Две таблицы**: Каждая таблица состоит из одного столбца.
   - **Кнопка**: "Изменить тип и подтип" для управления состоянием таблиц.
- **Таблица "Тип (Тип профиля заготовки)"** (Table 1)
   - **Столбец** Содержит наименования типов профилей.
   - **Поиск** Поле для удобного поиска нужного типа.
   - **Начальное значение** Отображает текущий тип профиля редактируемой заготовки.
- **Таблица "Подтип (Материал заготовки)"** (Table 2)
   - **Столбец**: Содержит наименования материалов.
   - **Поиск**: Поле для удобного поиска нужного материала.
   - **Начальное значение**: Отображает текущий материал редактируемой заготовки.
- **Кнопка "Изменить тип и подтип"** (Button 4)
   - **Визуальная индикация**: При нажатии выделяется синим цветом.
   - **Функциональность**: При нажатии кнопки (Button 4), содержимое таблиц редактируемой сущности очищается, и отображается полный список всех инструментов и оснастки.
- **Ограничение сущности**
   - **Единственность выбора**: Каждая сущность может состоять только из одного типа и одного подтипа.

### Функционал
- **Таблица "Тип (Тип профиля заготовки)"**
    - **Отображение данных**: По умолчанию показывает текущий тип профиля.
    - **Поиск**: Пользователь может использовать поле поиска для быстрого нахождения нужного типа.
    - **Выбор типа**: Пользователь может выбрать другой тип из списка.
- **Таблица "Подтип (Материал заготовки)"**
    - **Отображение данных**: По умолчанию показывает текущий материал.
    - **Поиск**: Пользователь может использовать поле поиска для быстрого нахождения нужного материала.
    - **Выбор материала**: Пользователь может выбрать другой материал из списка.
- **Кнопка "Изменить тип и подтип"** (Button 4)
    - **Сброс значений**: При первом нажатии сбрасывает текущие значения в таблицах и предоставляет доступ ко всему перечню типов и подтипов.
    - **Визуальная индикация**: Кнопка выделяется синим цветом, сигнализируя о включенном режиме изменения.
    - **Возврат к умолчаниям**: При повторном нажатии снимает выделение и возвращает таблицы к начальным значениям.
- **Ограничение выбора**
    - **Единственность**: Пользователь может выбрать только один тип и один подтип для каждой заготовки, что обеспечивает уникальность и точность данных.

---
## Описание таблицы Характеристики (Table 3)
Таблица "Характеристики" предназначена для управления характеристиками инструментов и оснастки.

### Особенности
- Есть строки без возможности удалить (иконка урны отображается серым), изменить можно только значение.
<span style={{color: "red"}}>TODO: требуется уточнение, есть ли такие строки в это таблице ?</span>

### Структура таблицы (Table 3)
- **Наименование**
    - Поле ввода текста (3-255 символов).
- **Еи**
    - Единица измерения; поле ввода текста (0-255 символов).
- **Значение**
    - Поле ввода текста (0-255 символов).
    - Кнопка "Добавить" (Button 8) добавляет новую строку в таблицу.

### Функционал
- **Иконка красной урны**
    - Расположена напротив каждой строки таблицы.
    - Позволяет удалять строки, кроме предустановленной.

## Описание таблицы Параметры (Table 4)
Таблица "Параметры" используется для управления параметрами, связанными с процессами или задачами.
<span style={{color: "red"}}>TODO: Есть вопросы функционалу к этой таблице, пока оставлю так, нужно будет отредактировать!</span>

### Особенности
- Есть строки без возможности удалить (иконка урны отображается серым), изменить можно только значение.
<span style={{color: "red"}}>TODO: требуется уточнение, есть ли такие строки в это таблице ? На макете вообще нет иконки урны</span>

### Структура таблицы (Table 4)
- **Наименование** 
    - Поле ввода текста (3-255 символов).
- **Значение**
    - Поле ввода текста (0-255 символов).

### Функционал
- **Иконка красной урны**
    - Расположена напротив каждой строки таблицы.
    - Позволяет удалять строки, кроме предустановленной.

## Описание таблицы Поставщики (Table 5)
Таблица "Поставщики" используется для отображения и управления информацией о поставщиках данных инструментов и оснастки.

### Особенности
- Отображает список поставщиков.
- Позволяет добавлять новых поставщиков из базы контрагентов.
- Позволяет удалять существующих поставщиков.

### Структура
- **ИНН**
    - Поле отображения текста (ИНН поставщика).
- **Наименование**
    - Поле отображения текста (наименование поставщика).

### Функционал
- **Иконка красной урны**
    - Находится справа напротив каждой строки.
    - Позволяет удалить выбранный элемент из таблицы "Поставщики".
- **Кнопка "Добавить из базы"** (Button 7)
    - При нажатии открывает модальное окно "Добавить поставщика".
    - В модальном окне можно выбрать поставщика из базы контрагентов для добавления в таблицу.

---
## Описание таблицы Медиа файлы (Table 6)
Таблица "Медиа файлы" используется для управления документами и файлами, связанными с процессами или задачами.
## Подключенные компоненты: Слайдер REQ001
- **Слайдер** (Slider)
    - Слайдер предназначен для отображения изображений выбранной сущности. Он позволяет пользователю пролистывать все доступные изображения. 

### Особенности
- Позволяет просматривать, выбирать и добавлять файлы.
- Обеспечивает возможность печати выбранных файлов.

### Структура
- **№**
    - Поле отображения порядкового номера в таблице.
- **Файл**
    - Поле отображения названия файла.
- **Checkbox**
    - Поле выбора.
    - Позволяет выбрать все файлы в таблице или отметить отдельные строки.
    - При клике в заголовке столбца отмечаются все элементы, а при клике на отдельный чекбокс — только соответствующая строка.

### Функционал
- **Кнопка "Печать"** (Button 9)
    - При нажатии открывается предпросмотр печати для отмеченных с помощью чекбоксов строк.
- **Поле "Прикрепить документ"** (Drag and Drop)
    - Позволяет добавлять новые файлы в таблицу путем перетаскивания или выбора файлов при клике на поле.
- **Кнопка "Добавить из базы"** (Button 10)
    - Кнопка для добавления файлов из базы, при нажатии открывает модальное окно "База файлов", в котором можно добавить файлы из базы.

---
## Описание компонентов управления:
На экране расположены две кнопки управления: "Сохранить" и "В базу". Эти кнопки обеспечивают функциональность для работы с окном.

### Особенности
- **Фиксированное расположение**
    - Кнопки находятся внизу экрана для легкого доступа.

### Функционал
- **Сохранить** (Button 5)
    - **Назначение**: Сохраняет изменения и обновляет базу данных.
    - **Действие**: При нажатии данные сохраняются в базе.
    - **Уведомление**: При успешном сохранении данных всплывает уведомление об успешности операции.
- **В базу** (Button 6)
    - **Назначение**: Закрывает окно без сохранения изменений.
    - **Действие**: Окно закрывается, и база данных остаётся без изменений.
